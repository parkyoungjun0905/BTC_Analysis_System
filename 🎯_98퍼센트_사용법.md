# 🎯 98% 정확도 BTC 예측 시스템 사용법

## ⚡ 빠른 시작

### 1️⃣ 모델 훈련 (최초 1회)
```bash
python3 98퍼센트_실시간_예측기.py
```

### 2️⃣ 즉시 예측 사용
```python
# 예측기 로드
from 98퍼센트_실시간_예측기 import RealTimeBTCPredictor

predictor = RealTimeBTCPredictor()
predictor.load_model()

# 1시간 후 가격 예측
result = predictor.predict_next_hour(current_market_data)
print(f"예측 가격: ${result['prediction']:,.0f}")
```

---

## 🔧 실제 사용 시나리오

### **시나리오 1: 매시간 자동 예측**
```python
import schedule
import time

def hourly_prediction():
    # 현재 시장 데이터 가져오기 (API 연동)
    current_data = get_current_market_data()
    
    # 예측 실행
    result = predictor.predict_next_hour(current_data)
    
    # 결과 출력/저장
    print(f"🎯 1시간 후 예측: ${result['prediction']:,.0f}")
    save_prediction_to_db(result)

# 매시간 실행
schedule.every().hour.do(hourly_prediction)

while True:
    schedule.run_pending()
    time.sleep(60)
```

### **시나리오 2: 거래 신호 생성**
```python
def generate_trading_signal():
    current_price = get_current_btc_price()
    prediction = predictor.predict_next_hour(current_data)
    
    predicted_price = prediction['prediction']
    price_change_pct = ((predicted_price - current_price) / current_price) * 100
    
    if price_change_pct > 2:
        return "🟢 강한 매수 신호"
    elif price_change_pct > 0.5:
        return "🔵 약한 매수 신호"  
    elif price_change_pct < -2:
        return "🔴 강한 매도 신호"
    elif price_change_pct < -0.5:
        return "🟠 약한 매도 신호"
    else:
        return "⚪ 관망"

signal = generate_trading_signal()
print(f"거래 신호: {signal}")
```

### **시나리오 3: 알림 시스템**
```python
def price_alert_system():
    prediction = predictor.predict_next_hour(current_data)
    predicted_price = prediction['prediction']
    current_price = get_current_price()
    
    change_pct = ((predicted_price - current_price) / current_price) * 100
    
    if abs(change_pct) > 3:  # 3% 이상 변동 예상
        send_telegram_alert(f"""
🚨 BTC 큰 변동 예상!
현재: ${current_price:,.0f}
1시간 후: ${predicted_price:,.0f}
예상 변동: {change_pct:+.1f}%
        """)

# 5분마다 체크
schedule.every(5).minutes.do(price_alert_system)
```

---

## 📊 필수 입력 데이터

모델이 예측에 필요한 데이터:

### **기본 OHLCV**
- `open`, `high`, `low`, `close`, `volume`

### **기술적 지표** (자동 계산됨)
- `price_lag1` - 1시간 전 가격
- `price_change_1h/6h/24h` - 시간별 변화율
- `sma_12h/24h/168h` - 이동평균
- `rsi` - RSI 지표
- `bb_upper/lower/position` - 볼린저 밴드
- `volatility_24h/168h` - 변동성

### **온체인/매크로 지표** (선택)
- Fear & Greed Index
- MVRV Ratio  
- 기타 온체인 데이터

---

## 🎯 성능 지표

- **정확도**: 98.21% (R² 스코어)
- **방향성**: 86.6% (상승/하락 예측)
- **상관관계**: 0.993 (실제값과 예측값)
- **모델**: Gradient Boosting + Random Forest 앙상블

---

## ⚠️ 주의사항

### **✅ 권장사항**
- 매시간 최신 데이터로 업데이트
- 여러 지표와 함께 종합 판단
- 백테스트 결과를 참고하되 실제 거래는 신중히

### **❌ 금지사항**  
- 100% 의존한 자동 거래
- 백테스트 = 미래 수익 보장으로 오해
- 리스크 관리 없는 대규모 투자

---

## 🔧 고급 사용법

### **모델 재학습**
```python
# 새로운 데이터로 모델 업데이트
predictor.train_model()  # 전체 재학습
```

### **배치 예측**
```python
# 여러 시점 동시 예측
predictions = []
for data in market_data_list:
    pred = predictor.predict_next_hour(data)
    predictions.append(pred)
```

### **신뢰도 체크**
```python
# 예측 결과의 일관성 확인
gb_pred = result['gradient_boosting']
rf_pred = result['random_forest']

if abs(gb_pred - rf_pred) / ((gb_pred + rf_pred) / 2) > 0.05:
    print("⚠️ 모델간 예측 차이 큼 - 신중 판단 필요")
```

---

## 📞 도움말

**문제 발생시**:
1. 먼저 데이터 형식 확인
2. 필수 피처 누락 여부 체크  
3. 모델 파일 존재 확인
4. 로그 메시지 참조

**성능 최적화**:
- 더 많은 온체인 지표 추가
- 실시간 데이터 품질 향상
- 정기적인 모델 재학습

**리스크 관리**:
- 예측은 참고용으로만 사용
- 분산 투자 필수
- 손절/익절 규칙 설정